<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">

<head>
	<meta charset="utf-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
	<meta name="description" content="" />
	<meta name="author" content="" />
	<title>Shop Homepage - Start Bootstrap Template</title>
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/css/bootstrap.min.css" rel="stylesheet"
		integrity="sha384-giJF6kkoqNQ00vy+HMDP7azOuL0xtbfIcaT9wjKHr8RbDVddVHyTfAAsrekwKmP1" crossorigin="anonymous" />
	<link rel="stylesheet" th:href="@{/css/list.css}" />
	<link rel="stylesheet" href="../../static/css/list.css" />
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/js/bootstrap.bundle.min.js"
		integrity="sha384-ygbV9kiqUc6oa4msXn9868pTtWMgiQaeYH7/t7LECLbyPA2x65Kgf80OJFdroafW"
		crossorigin="anonymous"></script>
</head>

<body>
	<!-- Navigation-->
	<nav class="navbar navbar-expand-lg navbar-dark bg-dark">
		<div class="container">
			<a class="navbar-brand" th:href="@{/}">BookMemo</a>
			<button class="navbar-toggler" type="button" data-bs-toggle="collapse"
				data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false"
				aria-label="Toggle navigation">
				<span class="navbar-toggler-icon"></span>
			</button>
			<div class="collapse navbar-collapse" id="navbarSupportedContent">
				<ul class="navbar-nav ms-auto mb-2 mb-lg-0">
					<li class="nav-item">
						<a class="nav-link" th:href="@{/memo/}">Home</a>
					</li>
					<li class="nav-item">
						<a class="nav-link" th:href="@{/profile/}">Profile</a>
					</li>
					<li class="nav-item">
						<a class="nav-link" th:href="@{/logout}">Log out</a>
					</li>
				</ul>
			</div>
		</div>
	</nav>
	<!-- Page Content-->
	<div class="container">
		<div class="row">
			<div class="col-lg-3">
				<h1 class="my-2">新規作成</h1>
				<div class="justify-content-center">
					<a class="btn btn-primary rounded-circle p-0 new-memo-button" th:href="@{/memo/create/}">
						+
					</a>
				</div>
				<h1 class="my-4">Category</h1>
				<!--TODO ここにカテゴリ-->
				<div class="list-group" th:each="category:${categoryList}">
					<a class="list-group-item" th:text="${category.category}"
						th:href="@{'/memo/category/?page=1&selectCategory='+${category.category}}">
						Category 1
					</a>
				</div>
			</div>
			<div class="col-lg-9">
				<div class="carousel slide my-4" id="carouselExampleIndicators" data-ride="carousel">
					<ol class="carousel-indicators">
						<li class="active" data-target="#carouselExampleIndicators" data-slide-to="0"></li>
						<li data-target="#carouselExampleIndicators" data-slide-to="1"></li>
						<li data-target="#carouselExampleIndicators" data-slide-to="2"></li>
					</ol>
					<div class="carousel-inner" role="listbox">
						<div class="carousel-item active">
							<img class="d-block img-fluid" src="https://via.placeholder.com/900x350"
								alt="First slide" />
						</div>
						<div class="carousel-item">
							<img class="d-block img-fluid" src="https://via.placeholder.com/900x350"
								alt="Second slide" />
						</div>
						<div class="carousel-item">
							<img class="d-block img-fluid" src="https://via.placeholder.com/900x350"
								alt="Third slide" />
						</div>
					</div>
					<a class="carousel-control-prev" href="#carouselExampleIndicators" role="button" data-slide="prev">
						<span class="carousel-control-prev-icon" aria-hidden="true"></span>
						<span class="sr-only">Previous</span>
					</a>
					<a class="carousel-control-next" href="#carouselExampleIndicators" role="button" data-slide="next">
						<span class="carousel-control-next-icon" aria-hidden="true"></span>
						<span class="sr-only">Next</span>
					</a>
				</div>
				<!--TODO メモ一覧はここに-->
				<div class="row container" th:each="memo:${memoList}">
					<div class="mb-4">
						<div class="card h-100">
							<h3 th:text="${memo.bookName}"></h3>
							<div class="card-body">
								<h4 class="card-title">
									<a th:href="@{/memo/details/{memoId} (memoId=${memo.memoId})}"
										th:text="${memo.title}" class="overflow-hidden" maxlength="10">Item One</a>
								</h4>
								<label>updated: </label>
								<p class="text-muted" th:text="${memo.updatedDate}"></p>
								<label>created: </label>
								<p class="text-muted" th:text="${memo.createdDate}"></p>
								<p class="card-text,overflow-hidden" th:text="${memo.content}" maxlength="20">
									Lorem ipsum dolor sit amet, consectetur adipisicing elit.
									Amet numquam aspernatur!
								</p>
							</div>
							<div class="card-footer">
								<small class="text-muted" th:text="${memo.category}" maxlength="10"></small>
							</div>
						</div>
					</div>
				</div>
				<nav>
					<ul class="pagination pg-blue justify-content-center">
						<li th:if="${startPage} > 1" class="page-item">
							<a class="page-link" th:href="@{'/memo/?page=1'}" 　tabindex="-2">最初</a>
						</li>
						<li th:if="${page} > 1" class="page-item">
							<a class="page-link" th:href="@{'/memo/?page=' + ${page-1}}" 　tabindex="-1">前へ</a>
						</li>
						<th:block th:if="${endPage}<=0">
							<li class="page-item" th:classappend="${i == page} ? active" th:each="i : ${startPage}">
								<a class="page-link" th:href="@{'/memo/?page=' + ${i}}" th:text="${i}"></a>
							</li>
						</th:block>
						<!-- StartPageからEndPageまでのページ数を表示する -->
						<th:block th:if="${endPage}>0">
							<li class="page-item" th:classappend="${i == page} ? active" th:each="i : ${#numbers.sequence(startPage, endPage)}"
								>
									<a
										class="page-link"
										th:href="@{'/memo/?page=' + ${i}}"
										th:text="${i}"
									></a>
								</li>
							</th:block>
							<li th:if="${page} < ${totalPage}" class="page-item">
								<a class="page-link" th:href="@{'/memo/?page=' + ${page+1}}"
									>次へ</a
								>
							</li>
							<li th:if="${endPage} < ${totalPage}" class="page-item">
								<a class="page-link" th:href="@{'/memo/?page=' + ${totalPage}}"
									>最後</a
								>
							</li>
						</ul>
					</nav>
				</div>
			</div>
		</div>
		<!-- Footer-->
		<footer class="py-5 bg-dark">
			<div class="container">
				<p class="m-0 text-center text-white">Copyright &copy; AR44</p>
			</div>
		</footer>
	</body>
</html>
