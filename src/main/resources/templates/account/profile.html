<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>BookMemoプロフィール</title>
    <link rel="stylesheet" th:href="@{/css/global.css}" type="text/css" />

    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC"
      crossorigin="anonymous"
      type="text/css"
    />
    <link rel="stylesheet" th:href="@{/css/profile.css}" type="text/css" />
  </head>

  <body>
    <script th:inline="javascript">
      /*<![CDATA[*/
      let message = /*[[${success}]]*/ "default";
      if (message) {
        window.alert(message);
      }
      /*]]>*/
    </script>

    <header th:replace="common/header"></header>
    <main class="container">
      <form
        class="d-flex flex-column"
        action=""
        method="post"
        th:object="${updateForm}"
      >
        <input
          type="hidden"
          th:name="${_csrf.parameterName}"
          th:value="${_csrf.token}"
        />
        <div class="d-flex flex-column justify-content-center">
          <h1 class="my-4">Profile</h1>
          <div
            th:if="${errorPass} != null"
            th:text="${errorPass}"
            class="text-center error"
          ></div>
        </div>
          <div
            class="row justify-content-center"
          >
        <div class="form-group row my-2 justify-content-center">
          <label for="" class="col-form-label fs-5 col">アカウント名</label>
          <div
            th:if="${#fields.hasErrors('accountName')}"
            th:errors="*{accountName}"
            class="text-center text-danger"
          ></div>
          <input
            type="text"
            name="accountName"
            id="accountName"
            placeholder="account name"
            th:value="*{accountName}"
            class="col-4"
            autocomplate="username"
          />
        </div>
        <div class="form-group row my-2 justify-content-center">
          <label for="" class="col-form-label fs-5">Eメール</label>
          <div
            th:if="${#fields.hasErrors('email')}"
            th:errors="*{email}"
            class="text-center text-danger col-1"
          ></div>
          <input
            type="email"
            id="email"
            class="col-4"
            name="email"
            placeholder="email"
            th:value="*{email}"
            autocomplate="email"
          />
        </div>
        <div class="form-group row my-2 justify-content-center">
          <label for="" class="col-form-label fs-5">現在のパスワード</label>
          <div
            th:if="${#fields.hasErrors('oldPassword')}"
            th:errors="*{oldPassword}"
            class="text-center text-danger col-1"
          ></div>
          <input
            type="password"
            name="oldPassword"
            id="oldPassword"
            class="col-4"
            placeholder="current password"
            th:value="*{oldPassword}"
            autocomplate="currnet-password"
          />
        </div>
        <div class="form-group row my-2 justify-content-center">
          <label for="" class="col-form-label fs-5">新規パスワード</label>
          <div
            th:if="${#fields.hasErrors('newPassword')}"
            th:errors="*{newPassword}"
            class="text-center text-danger col-1"
          ></div>
          <input
            type="password"
            name="newPassword"
            id="newPassword"
            class="col-4"
            placeholder="new password"
            th:value="*{newPassword}"
            autocomplate="new-password"
          />
        </div>
        <div class="form-group row my-2 justify-content-center">
          <label for="" class="col-form-label fs-5">
            新規パスワード(確認用)
          </label>
          <div
            th:if="${#fields.hasErrors('rePassword')}"
            th:errors="*{rePassword}"
            class="text-center text-danger col-1"
          ></div>
          <input
            type="password"
            name="rePassword"
            id="rePassword"
            class="col-4"
            placeholder="confirm new password"
            th:value="*{rePassword}"
            autocomplate="new-password"
          />
        </div>
        <div>
        <div class="row justify-content-center my-2">
          <button type="submit" class="btn btn-success col-2">変更</button>
        </div>
        <div class="row justify-content-center my-2">
          <a th:href="@{/delete/}" class="btn btn-danger col-2">削除</a>
        </div>
      </form>
    </main>
    <footer th:replace="common/footer"></footer>
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM"
      crossorigin="anonymous"
    ></script>
  </body>
</html>
